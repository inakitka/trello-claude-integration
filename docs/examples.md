# Примеры использования

В этом документе приведены примеры использования интеграции Claude с Trello. Эти примеры показывают, как пользователь может взаимодействовать с Claude для управления задачами в Trello.

## Создание задачи

### Пример запроса пользователя

> Создай задачу "Оптимизировать изображения на сайте" в доске "Веб-разработка" в списке "Задачи на неделю" с дедлайном в четверг и назначь её Михаилу и Ольге.

### Действия системы

1. Claude извлекает следующие параметры:
   - Название задачи: "Оптимизировать изображения на сайте"
   - Название доски: "Веб-разработка"
   - Название списка: "Задачи на неделю"
   - Дедлайн: "в четверг" (преобразуется в дату ближайшего четверга)
   - Исполнители: ["Михаил", "Ольга"]

2. Claude формирует запрос к MCP Server:

```json
{
  "action": "createCard",
  "parameters": {
    "boardName": "Веб-разработка",
    "listName": "Задачи на неделю",
    "name": "Оптимизировать изображения на сайте",
    "dueDate": "2023-08-10T12:00:00.000Z",
    "assignees": ["Михаил", "Ольга"]
  }
}
```

3. MCP Server выполняет следующие операции:
   - Находит доску "Веб-разработка" по имени
   - Находит список "Задачи на неделю" на этой доске
   - Создает новую карточку в указанном списке
   - Находит участников "Михаил" и "Ольга" на доске
   - Назначает этих участников на созданную карточку
   - Устанавливает дедлайн на ближайший четверг

4. MCP Server возвращает результат:

```json
{
  "status": "success",
  "data": {
    "id": "60d5a7e89c9f8f2a61b1b29f",
    "name": "Оптимизировать изображения на сайте",
    "url": "https://trello.com/c/abc123/оптимизировать-изображения-на-сайте"
  }
}
```

5. Claude формирует ответ пользователю:

> ✅ Задача "Оптимизировать изображения на сайте" успешно создана в списке "Задачи на неделю" на доске "Веб-разработка". Срок выполнения установлен на четверг, 10 августа 2023. Михаил и Ольга назначены исполнителями.
> 
> Вы можете просмотреть задачу по ссылке: https://trello.com/c/abc123/оптимизировать-изображения-на-сайте

## Управление метками

### Пример запроса пользователя

> Создай метку "дизайн" синего цвета и добавь её ко всем задачам в списке "Улучшение интерфейса".

### Действия системы

1. Claude извлекает следующие параметры:
   - Действие: создание метки и добавление её к задачам
   - Название метки: "дизайн"
   - Цвет метки: "синий"
   - Название списка: "Улучшение интерфейса"

2. Claude формирует запрос к MCP Server для создания метки:

```json
{
  "action": "createLabel",
  "parameters": {
    "name": "дизайн",
    "color": "blue"
  }
}
```

3. MCP Server создает новую метку и возвращает её ID.

4. Claude формирует запрос для получения списка карточек в указанном списке:

```json
{
  "action": "getCardsInList",
  "parameters": {
    "listName": "Улучшение интерфейса"
  }
}
```

5. MCP Server возвращает список карточек.

6. Claude для каждой карточки формирует запрос для добавления метки:

```json
{
  "action": "addLabelToCard",
  "parameters": {
    "cardId": "60d5a7e89c9f8f2a61b1b29f",
    "labelId": "60d5a7e89c9f8f2a61b1b30a"
  }
}
```

7. Claude формирует ответ пользователю:

> ✅ Создана новая метка "дизайн" синего цвета и добавлена к 5 задачам в списке "Улучшение интерфейса".

## Перемещение задач

### Пример запроса пользователя

> Перенеси все просроченные задачи из списка "В работе" в начало списка "Срочно".

### Действия системы

1. Claude извлекает следующие параметры:
   - Действие: перемещение задач
   - Исходный список: "В работе"
   - Целевой список: "Срочно"
   - Фильтр: просроченные задачи
   - Позиция: в начало списка

2. Claude формирует запрос к MCP Server для получения всех задач в списке "В работе":

```json
{
  "action": "getCardsInList",
  "parameters": {
    "listName": "В работе"
  }
}
```

3. MCP Server возвращает список карточек.

4. Claude фильтрует карточки, у которых срок выполнения прошел.

5. Claude для каждой просроченной карточки формирует запрос для перемещения:

```json
{
  "action": "moveCardToList",
  "parameters": {
    "cardId": "60d5a7e89c9f8f2a61b1b29f",
    "listId": "60d5a7e89c9f8f2a61b1b30b",
    "pos": "top"
  }
}
```

6. Claude формирует ответ пользователю:

> ✅ Перенесено 3 просроченные задачи из списка "В работе" в начало списка "Срочно".

## Создание новой доски с предустановленными списками

### Пример запроса пользователя

> Создай новую доску "Мобильное приложение" с списками "Бэклог", "В разработке", "Тестирование" и "Завершено".

### Действия системы

1. Claude извлекает следующие параметры:
   - Действие: создание доски
   - Название доски: "Мобильное приложение"
   - Списки: ["Бэклог", "В разработке", "Тестирование", "Завершено"]

2. Claude формирует запрос к MCP Server для создания доски:

```json
{
  "action": "createBoard",
  "parameters": {
    "name": "Мобильное приложение",
    "defaultLists": false
  }
}
```

3. MCP Server создает новую доску и возвращает её ID.

4. Claude для каждого списка формирует запрос для создания:

```json
{
  "action": "createList",
  "parameters": {
    "name": "Бэклог",
    "boardId": "60d5a7e89c9f8f2a61b1b30c"
  }
}
```

5. Claude формирует ответ пользователю:

> ✅ Создана новая доска "Мобильное приложение" со следующими списками:
> • Бэклог
> • В разработке
> • Тестирование
> • Завершено
>
> Вы можете просмотреть доску по ссылке: https://trello.com/b/def456/мобильное-приложение

## Назначение исполнителей

### Пример запроса пользователя

> Найди все задачи с меткой "срочно" и назначь на них Алексея как ответственного.

### Действия системы

1. Claude извлекает следующие параметры:
   - Действие: назначение исполнителя
   - Фильтр: задачи с меткой "срочно"
   - Исполнитель: "Алексей"

2. Claude формирует запрос к MCP Server для поиска задач:

```json
{
  "action": "searchCards",
  "parameters": {
    "query": "label:срочно"
  }
}
```

3. MCP Server возвращает список найденных карточек.

4. Claude находит ID пользователя "Алексей":

```json
{
  "action": "findMemberByUsername",
  "parameters": {
    "username": "Алексей"
  }
}
```

5. Claude для каждой найденной карточки формирует запрос для назначения исполнителя:

```json
{
  "action": "addMemberToCard",
  "parameters": {
    "cardId": "60d5a7e89c9f8f2a61b1b29f",
    "memberId": "60d5a7e89c9f8f2a61b1b30d"
  }
}
```

6. Claude формирует ответ пользователю:

> ✅ Алексей назначен ответственным для 7 задач с меткой "срочно". 